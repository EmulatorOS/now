"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[376],{2376:function(e,t,a){a.r(t),a.d(t,{Sidebar:function(){return ce},default:function(){return le}});var n=a(2809),o=a(1567),r=a(7294),i=a(261),c=a(2181),l=a(77),s=a(5276),d=a(479),u=a(9751),g=a(5264),p={src:"/play/_next/static/media/MouseLButton.8f31ba3d.png",height:84,width:62,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAQAAABwz0azAAAAc0lEQVR42gFoAJf/AP4A9SD5We1l/y/oAADuHP31/8+7sK3U/yoA9Gr9+f6UyYar0ON5AOZL3oHdc+R564zoUADYl3zVaMZmxXTS2JkA3HxiyACkAKVdyNuAAO8XxrN/zH7MxbXuGgD0AOoR32beZ+oT9ADTSzzAhYkR0AAAAABJRU5ErkJggg=="},y=a(5617),A=a(445),h=A.ZP.span.withConfig({componentId:"sc-1wpg5ay-0"})(["background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOCAyOUMxMS4yMTM2IDI5IDUuNTE5NDUgMjQuMzEzOSAzLjk4MTAxIDE4LjAwMDFDNS41MTk0MSAxMS42ODYyIDExLjIxMzYgNyAxOCA3QzI0Ljc4NjQgNyAzMC40ODA1IDExLjY4NjEgMzIuMDE5IDE3Ljk5OTlDMzAuNDgwNiAyNC4zMTM4IDI0Ljc4NjQgMjkgMTggMjlaTTE4IDZDMjUuMzQyNiA2IDMxLjQ4NzIgMTEuMTI5MiAzMy4wNDYyIDE3Ljk5OTlDMzEuNDg3MiAyNC44NzA4IDI1LjM0MjYgMzAgMTggMzBDMTAuNjU3NCAzMCA0LjUxMjgzIDI0Ljg3MDggMi45NTM3NCAxOC4wMDAxQzQuNTEyNzkgMTEuMTI5MiAxMC42NTc0IDYgMTggNlpNNi43MTUzIDE4QzcuMTEyNzYgMTYuMjQ4NCA3LjkwNzU3IDE0LjY0NzcgOC45OTk5NyAxMy4yOTc4VjE1LjAyMjVDOC40Mzc2NCAxNS45MzI1IDguMDA5NTEgMTYuOTM0MiA3Ljc0MzI1IDE4QzguMDA5NTIgMTkuMDY1OSA4LjQzNzY0IDIwLjA2NzYgOC45OTk5NyAyMC45Nzc2VjIyLjcwMjNDNy45MDc1OCAyMS4zNTIzIDcuMTEyNzcgMTkuNzUxNiA2LjcxNTMgMThaTTI4LjI1NjcgMThDMjcuOTkwNSAxOS4wNjU4IDI3LjU2MjMgMjAuMDY3NiAyNyAyMC45Nzc2VjIyLjcwMjNDMjguMDkyNCAyMS4zNTIzIDI4Ljg4NzIgMTkuNzUxNiAyOS4yODQ3IDE3Ljk5OTlDMjguODg3MiAxNi4yNDgzIDI4LjA5MjQgMTQuNjQ3NiAyNyAxMy4yOTc3VjE1LjAyMjNDMjcuNTYyMyAxNS45MzI0IDI3Ljk5MDUgMTYuOTM0MSAyOC4yNTY3IDE4WiIgZmlsbD0iI2ZmZmZmZiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSIyLjUiIHN0cm9rZT0iI2ZmZmZmZiIvPgo8L3N2Zz4K);width:60px;position:absolute;height:60px;background-repeat:no-repeat;background-color:",";border:1px solid;border-radius:50%;top:-20px;left:-3px;background-position:center;z-index:-1;background-size:57%;"],(function(e){return e.theme.colors.modal})),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("Dpad")>-1&&-1===e.indexOf("+")?e.replaceAll("Gamepad",""):e.replaceAll("Gamepad","").replaceAll("Trigger","T").replaceAll("Left","L").replaceAll("Right","R").replaceAll("Shoulder","B")},x={Oem1:";",Oem2:"/",Oem3:"~",Oem4:"[",Oem5:"\\",Oem6:"]",Oem7:"'",OemPlus:"+",OemComma:",",OemMinus:"-",OemPeriod:"."},f=function(e){return x[e]||e},j=function(e,t){return e/100*t},b=a(5893),v={MouseLButton:p,MouseRButton:{src:"/play/_next/static/media/MouseRButton.d74dac8c.png",height:84,width:62,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAQAAABwz0azAAAAc0lEQVR42gFoAJf/AOgA/y/tZflZ9SD+AAD/Kq3Uu7D/z/317hwA43mr0MmG/pT9+fRqAOhQ64zked1z3oHmSwDYmXTSZsVoxnzV2JcA24BdyAClAKRiyNx8AO4axbV+zH/MxrPvFwD0AOoT3mffZuoR9ADONTzAZuNVzwAAAABJRU5ErkJggg=="},MouseMButton:{src:"/play/_next/static/media/MouseMButton.be91e84d.png",height:72,width:54,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAQAAABwz0azAAAAcUlEQVR42mPYx/BC/tfSn8ueyO9hYLhic/zyn7e/Phy7fM2K4WTywcX/pv2eeWDp6QSGe74HFq2ds2bu/sX3fBgutgf8VwTCgP8X2xmeBpX9ZwDCsv9Pg4D0qf6u312/T/X/Z2D4D4SfjT4b/Wf4zwAAtN08wE+/zqoAAAAASUVORK5CYII="},DpadUp:{src:"/play/_next/static/media/GamepadDpadUp.f38ef235.png",height:72,width:72,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAbElEQVR42i2NwQmFQBBDs5VYknjcmzV4mRZ+O8t3KxgtQ3DqWIYYRAKBFwgPAMttu+9+GwsgPFollMqjaQoTjjXXxKgMw99B5MVLDYq6hl+SVIOisIXT2HLLaSzUheVsM6HMPNvnCevePV7tA3buTV0h1GDsAAAAAElFTkSuQmCC"},DpadDown:{src:"/play/_next/static/media/GamepadDpadDown.9f027fed.png",height:72,width:72,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAbElEQVR42i2N0QmAMBBD00kcSfzsnzP4cyu4TtFOcDqG0JujHPEqEgi8QHgAmEyqVjVhwsC7zERk5l1iMlk49c03n/pCE1QFdycZDQYdCsIfPtFgkEkm+uqro+dxYbpKTJHMq/yeJqee2j7tC5n+TV0ZktgfAAAAAElFTkSuQmCC"},DpadLeft:{src:"/play/_next/static/media/GamepadDpadLeft.6c56681a.png",height:72,width:72,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAcklEQVR42i2NwQkCQRAEe5MxHUXOh/r26XtCMBafh6sJzIVgALdBCMIx1A3LQX+6oaqFKLNV/3gzCso6jVeEGJhGima7oGUXz9BypJneLh7xB/YhqivDLb78OPQhkXMiinsiQyJdmhPiRJciSrOX1+12BaEwUUUy+RmYAAAAAElFTkSuQmCC"},DpadRight:{src:"/play/_next/static/media/GamepadDpadRight.691db1eb.png",height:72,width:72,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAb0lEQVR42iWNwQ1AUBBERzPaQcIBZ0fnLUEtjuLTwCpBAX4REolsxubLnGaS9wYEsyi7Br2EGeD1WGrC0/NYfIpSEe9sueHteAmCgoWRDycDN01DaTdPDgZ6i1I7MhocaR1J0iZJ21/63wZdNabbDyYAT0YcjwNvAAAAAElFTkSuQmCC"}},C=function(e){var t=e.gamepad,a=e.control,n=e.height;return(0,b.jsxs)(b.Fragment,{children:[t&&a.GamepadStick&&(0,b.jsx)("span",{className:"overlayKeyValue",children:m(a.GamepadStick)}),!t&&(0,b.jsxs)(b.Fragment,{children:[a.KeyUp&&(0,b.jsx)("span",{className:"overlayKeyValue up",style:{transform:"translateY(-100%) translateY(-".concat(j(n,Math.min(a.XRadius/3,4)),"px)")},children:(0,b.jsx)("span",{children:m(a.KeyUp)})}),a.KeyLeft&&(0,b.jsx)("span",{className:"overlayKeyValue left",style:{transform:"translateX(-100%) translateX(-".concat(j(n,Math.min(a.XRadius/3,4)),"px)")},children:(0,b.jsx)("span",{children:m(a.KeyLeft)})}),a.KeyDown&&(0,b.jsx)("span",{className:"overlayKeyValue left",style:{transform:"translateY(100%) translateY(".concat(j(n,Math.min(a.XRadius/3,4)),"px)")},children:(0,b.jsx)("span",{children:m(a.KeyDown)})}),a.KeyRight&&(0,b.jsx)("span",{className:"overlayKeyValue left",style:{transform:"translateX(100%) translateX(".concat(j(n,Math.min(a.XRadius/3,4)),"px)")},children:(0,b.jsx)("span",{children:m(a.KeyRight)})})]})]})},K=function(e){var t=e.gamepad,a=e.control,n=e.height;return(0,b.jsx)(b.Fragment,{children:t?a.GamepadStick?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"overlayKeyValue",children:m(a.GamepadStick)}),(0,b.jsx)(h,{})]}):(0,b.jsxs)(b.Fragment,{children:[a.KeyUp_alt1&&(0,b.jsx)("span",{className:"overlayKeyValue up",style:{transform:"translateY(-40%) translateY(-".concat(j(n,3),"px)")},children:(0,b.jsx)("span",{children:m(a.KeyUp_alt1)})}),a.KeyLeft_alt1&&(0,b.jsx)("span",{className:"overlayKeyValue left",style:{transform:"translateX(-40%) translateX(-".concat(j(n,3),"px)")},children:(0,b.jsx)("span",{children:m(a.KeyLeft_alt1)})}),a.KeyDown_alt1&&(0,b.jsx)("span",{className:"overlayKeyValue down",style:{transform:"translateY(40%) translateY(".concat(j(n,3),"px)")},children:(0,b.jsx)("span",{children:a.KeyDown_alt1})}),a.KeyRight_alt1&&(0,b.jsx)("span",{className:"overlayKeyValue left",style:{transform:"translateX(40%) translateX(".concat(j(n,3),"px")},children:(0,b.jsx)("span",{children:a.KeyRight_alt1})}),(0,b.jsx)(h,{})]}):null})},M=function(e){var t=e.gamepad,a=e.control,n=t?m(a.Key_alt1):f(a.Key);return(t?a.Key_alt1:a.Key)?(0,b.jsx)("span",{className:"overlayKeyValue ".concat(a.Type," ").concat(v[n]?"DpadImage":""),children:v[n]?(0,b.jsx)("img",{src:v[n].src,alt:""}):n}):null},N=function(e){var t=e.controlKey,a=e.gamepad;return(0,b.jsxs)(b.Fragment,{children:["mobaImages[controlKey] ? (",(0,b.jsx)("span",{className:"overlayKeyValue",children:(0,b.jsx)("img",{src:v[t].src,alt:""})}),") : (",(0,b.jsx)("span",{className:"overlayKeyValue MobaText ".concat(t),children:a?m(t):f(t)}),")"]})},D=function(e){var t=e.gameControls,a=e.isGamepadview,n=(0,r.useState)({top:0,left:0,width:0,height:0}),o=n[0],c=n[1],l=((0,y.v9)((function(e){return e.play.videoRef})),(0,y.v9)((function(e){return e.preferences.overlay}))),s=(0,y.v9)((function(e){return e.preferences.legacyControls})),d=function(){var e=g.Z.getState().play.videoRef;if(null!==e&&void 0!==e&&e.current){var t=null===e||void 0===e?void 0:e.current.getBoundingClientRect(),a=null===e||void 0===e?void 0:e.current.parentNode;if(t&&a){var n=a.getBoundingClientRect(),o={top:Math.max(t.top-n.top,0),left:Math.max(t.left-n.left,0),width:t.width,height:t.height};c(o)}}};return(0,r.useEffect)((function(){return window.addEventListener(i.Sg,d),function(){window.removeEventListener(i.Sg,d)}}),[]),(0,r.useEffect)((function(){d()}),[l,s]),(0,b.jsx)(b.Fragment,{children:l&&s?t.map((function(e,t){if(e.IsVisibleInOverlay||e.ShowOnOverlay){var n=function(e,t,a){switch(e.Type){case i.x_.Tap:case i.x_.TapRepeat:case i.x_.Script:return(0,b.jsx)(M,{gamepad:t,control:e});case i.x_.Dpad:return(0,b.jsx)(C,{gamepad:t,height:a.height||500,control:e});case i.x_.FreeLook:return(0,b.jsx)(K,{gamepad:t,height:a.height||500,control:e});case i.x_.Pan:var n=t?m(e.KeyStartStop_alt1):f(e.KeyStartStop);return n?(0,b.jsx)("span",{className:"overlayKeyValue",children:n}):"";case i.x_.MOBASkill:var o=t?e.KeyActivate_alt1:e.KeyActivate;if(o)return(0,b.jsx)(N,{controlKey:o,gamepad:t})}return""}(e,a,o);return"Pan"===e.Type&&e.LButtonX>=0&&e.LButtonY>=0&&(a?"":(0,b.jsx)("span",{className:"overlayKey LBM",style:{left:o.left+j(o.width,e.LButtonX),top:o.top+j(o.height,e.LButtonY)},children:(0,b.jsx)("span",{className:"overlayKeyValue",children:(0,b.jsx)("img",{src:"".concat(p.src),alt:""})})})),"MOBASkill"===e.Type&&e.CancelX>0&&e.CancelY>0&&(0,b.jsx)("span",{className:"overlayKey Tap",style:{left:o.left+j(o.width,e.CancelX),top:o.top+j(o.height,e.CancelY)},children:(0,b.jsx)("span",{className:"overlayKeyValue",children:a?m(e.KeyCancel_alt1):e.KeyCancel})}),n?(0,b.jsx)("span",{className:"overlayKey ".concat(e.Type," ").concat(a?"gamepad":""),style:{left:o.left+j(o.width,e.X),top:o.top+j(o.height,e.Y)},children:n},"".concat(e.$type,"-").concat(t)):null}return null})):null})},w=a(6682),S=a(2920),I=a(9761),L=a(2347),k=a(5293),T=a(2793),O=a(6243),E=a(6676),z=a(5769),Z=a(1524),R=a(9954),P=a(1041),G=A.ZP.div.withConfig({componentId:"sc-gi8js3-0"})(["z-index:2;color:",";position:fixed;right:0;top:48px;width:320px;background:",";backdrop-filter:blur(24px);border-radius:8px 0 0 8px;padding:8px 10px;transition:transform ease-out 0.5s;&.hide{transform:translate(100%);}"],(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.backgroundGlass})),U=A.ZP.h4.withConfig({componentId:"sc-gi8js3-1"})(["display:flex;margin:6px 0 10px;font-size:17px;font-weight:400;align-items:center;i{padding:5px;&:hover{border-radius:50%;background:",";;}}"],(function(e){return e.theme.colors.modal})),B=A.ZP.ul.withConfig({componentId:"sc-gi8js3-2"})(["margin:0;list-style-type:none;padding:5px 0;background-color:rgba(0,0,0,.4);"]),Y=A.ZP.li.withConfig({componentId:"sc-gi8js3-3"})(["font-size:12px;padding:6px 12px;font-weight:300;display:flex;span{&:first-child{flex:1;padding-right:10px;color:rgba(255,255,255,0.7);}&:last-child{flex:0 0 114px;font-weight:500;}}"]),V=((0,A.ZP)(Y).withConfig({componentId:"sc-gi8js3-4"})(["color:#f5f5f5;font-weight:600;&::only-child{display:none;}"]),(0,A.ZP)(Y).withConfig({componentId:"sc-gi8js3-5"})(["font-weight:600;font-size:12px;justify-content:flex-start;"])),_=A.ZP.div.withConfig({componentId:"sc-gi8js3-6"})(["display:flex;border-top-left-radius:4px;border-top-right-radius:4px;overflow:hidden;font-size:14px;"]),Q=A.ZP.span.withConfig({componentId:"sc-gi8js3-7"})(["padding:10px 16px;flex:0 0 50%;background:transparent;cursor:pointer;background:",";color:rgba(255,255,255,.4);display:flex;align-items:center;justify-content:center;i{font-size:19px;margin-right:10px;&.icon-keyboard{font-size:22px;}}&.active{background:rgba(0,0,0,.4);color:rgba(255,255,255,.8);}"],(function(e){return e.theme.colors.modal})),X=A.ZP.div.withConfig({componentId:"sc-gi8js3-8"})(["display:flex;background:",";align-items:center;text-align:center;flex-direction:column;min-height:400px;justify-content:center;background:rgba(0,0,0,.4);padding:16px;p{color:rgba(255,255,255,0.6);}"],(function(e){return e.theme.colors.modal})),F=A.ZP.div.withConfig({componentId:"sc-gi8js3-9"})(["background:rgba(0,0,0,0.4);padding:8px;margin:12px 0;border-radius:4px;min-height:40px;display:flex;flex-direction:column;justify-content:center;"]),H=A.ZP.label.withConfig({componentId:"sc-gi8js3-10"})(["color:rgba(255,255,255,0.8);font-size:12px;display:block;&.dim{color:rgba(255,255,255,0.6);}&.padd{padding:0px 12px;}"]),J=(0,A.ZP)(F).withConfig({componentId:"sc-gi8js3-11"})(["justify-content:flex-start;flex-direction:row;align-items:center;color:",";;justify-content:space-between;span{border:1px solid;width:3em;height:1.8em;border-radius:10px;position:relative;cursor:pointer;transition:all 0.1s;&:after{content:'';transition:all 0.1s;border-radius:50%;right:calc(13px + 1.5em);width:1.2em;height:1.2em;position:absolute;background:currentColor;right:47%;top:10%;}}&.active span{border-color:",";;background:",";;&:after{background:",";;right:3px;}}"],(function(e){return e.theme.colors.base100}),(function(e){return e.theme.colors.modal}),(function(e){return e.theme.colors.ascent}),(function(e){return e.theme.colors.white})),q=A.ZP.div.withConfig({componentId:"sc-gi8js3-12"})(["justify-content:flex-start;flex-direction:row;align-items:center;color:",";;justify-content:space-between;display:flex;"],(function(e){return e.theme.colors.base100})),W=A.ZP.span.withConfig({componentId:"sc-gi8js3-13"})(["border:",";;width:3em;height:1.8em;border-radius:10px;position:relative;cursor:pointer;transition:all 0.1s;background:",";;&:after{content:'';transition:all 0.1s;border-radius:50%;right:calc(13px + 1.5em);width:1.2em;height:1.2em;position:absolute;background:",";;right:47%;top:10%;}&.active{border-color:",";;background:",";;&:after{background:",";;right:3px;}}"],(function(e){return e.theme.border.base2}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.modal}),(function(e){return e.theme.colors.ascent}),(function(e){return e.theme.colors.white})),$=A.ZP.div.withConfig({componentId:"sc-gi8js3-14"})(["background:rgba(255,255,255,0.1);height:1px;&.marg{margin:0px 12px 8px 12px;}"]),ee=(0,A.ZP)(F).withConfig({componentId:"sc-gi8js3-15"})(["gap:",";;"],(function(e){return e.theme.spacing.base2})),te=A.ZP.div.withConfig({componentId:"sc-gi8js3-16"})(["display:flex;flex-direction:column;justify-content:center;margin-bottom:24px;"]);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ne=[],oe=function(e){var t=e.label,a=e.value,n=e.guidanceCategory,o=""!==n&&-1===ne.indexOf(n);return o&&ne.push(n),(0,b.jsxs)(b.Fragment,{children:[o&&(0,b.jsx)(V,{children:n},"".concat(n)),(0,b.jsxs)(Y,{children:[(0,b.jsx)("span",{children:t}),(0,b.jsx)("span",{children:a})]},"".concat(t,"_").concat(a))]})},re=function(e){var t=e.type,a=(0,o.$)().t;return(0,b.jsxs)(X,{children:[(0,b.jsx)("img",{src:(0,P.j)(T.Z),alt:"Gamepad warning"}),(0,b.jsx)(k.T4,{style:{marginTop:"10px"},children:a("not_supported"===t?"sidebar.gamepadNotDetected":"sidebar.gamepadNotSupported")}),(0,b.jsx)(k.kk,{children:a("not_supported"===t?"sidebar.gamepadNotDetectedInfo":"sidebar.gamepadNotSupportedInfo")})]})},ie={},ce=function(e){var t=e.className,a=(0,o.$)().t,p=(0,r.useState)(null),A=p[0],h=p[1],x=(0,r.useState)(!!L.Z.gamepad),f=x[0],j=x[1],v=(0,r.useState)([]),C=v[0],K=v[1],M=(0,r.useState)(null),N=M[0],k=M[1],T=(0,r.useState)(!1),P=T[0],Y=T[1],X=(0,r.useState)(!1),ce=X[0],le=X[1],se=(0,r.useState)([]),de=se[0],ue=se[1],ge=(0,y.v9)((function(e){return e.imap.isActive})),pe=(0,y.v9)((function(e){return e.imap.initialized})),ye=(0,y.v9)((function(e){return e.imap.guideVisible})),Ae=(0,y.v9)((function(e){return e.preferences.overlay})),he=(0,y.v9)((function(e){return e.preferences.legacyControls})),me=z.ZP.features.nativeControlsList.length>0,xe=z.ZP.features.shiftLock,fe=!("boolean"===typeof z.ZP.features.nativeMouse&&!z.ZP.features.nativeMouse),je=(0,y.I0)(),be=function(e){de.forEach((function(t){if(t.Type===i.x_.Pan&&(ce?t.KeyStartStop_alt1:t.KeyStartStop)){var n=ce?t.KeyStartStop_alt1:t.KeyStartStop;!ie[n]&&e&&I.ZP.showLookAroundToasts&&((0,S.Am)((0,b.jsxs)(b.Fragment,{children:[a("overlay.look")," ",(0,b.jsx)("kbd",{children:m(n)})," ",a("overlay.tip2")]}),w.dO),ie[n]=!0)}if(t.Type===i.x_.FreeLook&&(ce?t.Key_alt1:t.Key)){var o=ce?t.Key_alt1:t.Key;!ie[o]&&e&&I.ZP.showLookAroundToasts&&((0,S.Am)((0,b.jsxs)(b.Fragment,{children:[a("overlay.klook")," ",(0,b.jsx)("kbd",{children:m(o)})," ",a("overlay.tip2")]}),w.dO),I.ZP.showLookAroundToasts=!1,ie[o]=!0)}}))},ve=function(){ne=[],fe||he||je({type:u.Z.LEGACY_CONTROLS})};(0,r.useEffect)((function(){var e=function(e){var t=e.detail;je({type:d.Z.IMAP_STATUS,payload:{initialized:!0}}),h(t)},t=function(e){var t=e.detail;j(!!t)};return window.addEventListener(i.UD,e),window.addEventListener(i.eT,t),function(){window.removeEventListener(i.eT,t),window.removeEventListener(i.UD,e)}}),[]),(0,r.useEffect)((function(){be(he)}),[de]),(0,r.useEffect)((function(){ve();var e=null===A||void 0===A?void 0:A.ControlSchemes;if(e&&e.forEach((function(e){if(e.Selected){Y(e.isGamepadControlsPresent),L.Z.setActiveSchemeHasGamepad(e.isGamepadControlsPresent);var t=e.GameControls;t&&ue(t)}})),null!==A&&void 0!==A&&A.ControlSchemes){var t=null===A||void 0===A?void 0:A.ControlSchemes.reduce((function(e,t){var a={label:t.Name,value:t.Name};return e.push(a),t.Selected&&k(a),e}),[]);t&&K(t)}}),[A,ce]),(0,r.useEffect)((function(){ve(),g.Z.dispatch({type:O.Z.SET_SENSITIVITY_POPUP,payload:{isSensitivityPopupOpen:!1}})}),[ye]);return(0,b.jsxs)(b.Fragment,{children:[ge&&pe&&(0,b.jsx)(D,{gameControls:de,isGamepadview:ce}),pe&&(0,b.jsxs)(G,{className:"".concat(ye?"":"hide"," ").concat(t),children:[(0,b.jsxs)(U,{children:[(0,b.jsx)(c.Z,{className:"\n                ".concat(f?"":"null","\n              "),style:{fontSize:"21px",paddingLeft:"0",paddingRight:"10px",pointerEvents:"none"},size:18,name:"gamepad"}),a("controls.title"),(0,b.jsx)(c.Z,{style:{marginLeft:"auto",cursor:"pointer"},onClick:function(){ve(),je({type:d.Z.TOGGLE_SIDEBAR})},size:18,name:"cross-thin"})]}),(me&&fe||xe)&&(0,b.jsxs)(ee,{children:[(0,b.jsxs)(q,{children:[(0,b.jsx)(H,{className:"".concat(he?"dim":""),children:a("sidebar.nativeTitle")}),(0,b.jsx)(W,{className:"".concat(he?"active":""),onClick:function(){return function(){ve();var e=g.Z.getState().play,t=e.nativeMouseEnabled,a=e.shiftLockActive;(0,R.L9)("UserInteraction",{element:"ControlScheme",state:"".concat(he?"Native":null===N||void 0===N?void 0:N.label),robloxExperience:g.Z.getState().play.robloxExperienceId}),je({type:u.Z.LEGACY_CONTROLS}),t&&he?(0,E.Jj)(!1):((0,E.DA)(),je({type:O.Z.ROBLOX_TOAST,payload:{robloxToast:!1}}),be(!0)),(0,Z.Ul)(),he&&a&&(g.Z.dispatch({type:O.Z.UPDATE_SHIFT_LOCK}),(0,R.L9)("UserInteraction",{element:"ShiftLock",state:"Disabled",robloxExperience:g.Z.getState().play.robloxExperienceId}))}()}}),(0,b.jsx)(H,{className:"".concat(he?"":"dim"),children:a("sidebar.legacyTitle")})]}),(0,b.jsx)($,{}),(0,b.jsx)(H,{className:"dim",children:a(he?"sidebar.legacyInfo":"sidebar.nativeInfo")})]}),he&&(0,b.jsxs)(J,{className:"".concat(Ae?"active":""),children:[(0,b.jsx)(H,{children:a("sidebar.onscreenControls")}),(0,b.jsx)("span",{onClick:function(){return(0,R.L9)("UserInteraction",{element:"OnScreenControls",state:"".concat(Ae?"Disabled":"Enabled"),robloxExperience:g.Z.getState().play.robloxExperienceId}),void je({type:u.Z.OVERLAY})}})]}),(null===C||void 0===C?void 0:C.length)>1&&N&&(0,b.jsxs)(F,{children:[(0,b.jsx)(H,{children:a("sidebar.controlSchemes")}),(0,b.jsx)(s.ZP,{value:N,options:C,onChange:function(e){if(null!==e&&void 0!==e&&e.value&&e.value!==(null===N||void 0===N?void 0:N.value)){var t=e.value;A&&(A.ControlSchemes=A.ControlSchemes.map((function(e){return e.Selected=!1,e.Name===t&&(e.Selected=!0),e})),I.ZP.loadCfg(A),h(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},A)))}},className:"select-container",classNamePrefix:"select"})]}),(0,b.jsxs)(_,{children:[(0,b.jsxs)(Q,{className:"".concat(ce?"":"active"),onClick:function(){return le(!1)},children:[(0,b.jsx)(c.Z,{name:"keyboard"}),a("sidebar.keyboard")]}),(0,b.jsxs)(Q,{className:"".concat(ce?"active":""),onClick:function(){return le(!0)},children:[(0,b.jsx)(c.Z,{name:"gamepad"}),a("sidebar.gamepad")]})]}),ce&&(!P||P&&!f)&&(0,b.jsx)(re,{type:f?"null":"not_supported"}),(ce&&P&&f||!ce)&&(0,b.jsxs)(l.Z,{autoHide:!1,style:{maxHeight:"calc(100vh - 384px)",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px"},children:[(he||!xe&&(!me||!fe))&&(0,b.jsxs)(B,{children:[function(){ve()},null===de||void 0===de?void 0:de.map((function(e){var t=e.Guidance,a=ce?"_alt1":"";switch(e.Type){case i.x_.FreeLook:return e.KeyDown||e.KeyRight||e.KeyUp||e.KeyLeft||a?(0,b.jsxs)(b.Fragment,{children:[t.Key&&(0,b.jsx)(oe,{label:t.Key,value:m(e["Key".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyDown&&(0,b.jsx)(oe,{label:t.KeyDown,value:m(e["KeyDown".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyUp&&(0,b.jsx)(oe,{label:t.KeyUp,value:m(e["KeyUp".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyRight&&(0,b.jsx)(oe,{label:t.KeyRight,value:m(e["KeyRight".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyLeft&&(0,b.jsx)(oe,{label:t.KeyLeft,value:m(e["KeyLeft".concat(a)]),guidanceCategory:e.GuidanceCategory})]}):null;case i.x_.Pan:return e.KeyAction||e.KeyStartStop||a?(0,b.jsxs)(b.Fragment,{children:[t.KeyAction&&e["KeyAction".concat(a)]&&(0,b.jsx)(oe,{label:m(e["KeyAction".concat(a)]),value:"MouseLButton",guidanceCategory:e.GuidanceCategory}),t.KeyLookAround&&e["KeyLookAround".concat(a)]&&(0,b.jsx)(oe,{label:t.KeyLookAround||"Pan",value:m(e["KeyLookAround".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyStartStop&&e["KeyStartStop".concat(a)]&&(0,b.jsx)(oe,{label:t.KeyStartStop,value:m(e["KeyStartStop".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeySuspend&&e["KeySuspend".concat(a)]&&(0,b.jsx)(oe,{label:t.KeySuspend,value:m(e["KeySuspend".concat(a)]),guidanceCategory:e.GuidanceCategory})]}):null;case i.x_.Dpad:return e.KeyDown||e.KeyUp||e.KeyRight||e.KeyLeft||a?(0,b.jsxs)(b.Fragment,{children:[t.DpadTitle&&(0,b.jsx)(oe,{label:t.DpadTitle,value:"".concat(m(e["KeyUp".concat(a)]),"\n                                  ").concat(m(e["KeyLeft".concat(a)]),"\n                                  ").concat(m(e["KeyDown".concat(a)]),"\n                                  ").concat(m(e["KeyRight".concat(a)])),guidanceCategory:e.GuidanceCategory}),a&&e.GamepadStick?(0,b.jsx)(oe,{label:t.GamepadStick||"DPAD",value:e.GamepadStick,guidanceCategory:e.GuidanceCategory}):(0,b.jsxs)(b.Fragment,{children:[t.KeyDown&&(0,b.jsx)(oe,{label:t.KeyDown,value:m(e["KeyDown".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyUp&&(0,b.jsx)(oe,{label:t.KeyUp,value:m(e["KeyUp".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyRight&&(0,b.jsx)(oe,{label:t.KeyRight,value:m(e["KeyRight".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyLeft&&(0,b.jsx)(oe,{label:t.KeyLeft,value:m(e["KeyLeft".concat(a)]),guidanceCategory:e.GuidanceCategory})]})]}):null;case i.x_.EdgeScroll:if("boolean"===typeof t.EdgeScrollEnabled)return(0,b.jsx)(oe,{label:t.EdgeScrollEnabled,value:e.EdgeScrollEnabled?"True":"False",guidanceCategory:e.GuidanceCategory});break;case i.x_.Zoom:case i.x_.MouseZoom:return(0,b.jsxs)(b.Fragment,{children:[t.KeyIn&&(0,b.jsx)(oe,{label:t.KeyIn,value:m(e["KeyIn".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyOut&&(0,b.jsx)(oe,{label:t.KeyOut,value:m(e["KeyOut".concat(a)]),guidanceCategory:e.GuidanceCategory}),t.KeyWheel&&(0,b.jsx)(oe,{label:t.KeyWheel,value:m(e["KeyWheel".concat(a)]),guidanceCategory:e.GuidanceCategory})]});default:if(e.Guidance.Key&&(e["Key".concat(a)]||e["KeyModifier".concat(a)]))return(0,b.jsx)(oe,{label:e.Guidance.Key||"",value:m(e["Key".concat(a)]||e["KeyModifier".concat(a)]),guidanceCategory:e.GuidanceCategory})}return null}))]}),!he&&(0,b.jsxs)(B,{children:[xe&&(0,b.jsxs)(te,{children:[(0,b.jsx)(V,{children:a("sidebar.specialKey")}),(0,b.jsx)(oe,{label:"Shift Lock",value:"Shift + Q",guidanceCategory:""}),(0,b.jsx)($,{className:"marg"}),(0,b.jsx)(H,{className:"dim padd",children:a("sidebar.shiftLockInfo")})]},"nativeControlBox"),z.ZP.features.nativeControlsList.map((function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(V,{children:e.key.toString()},"".concat(e.key.toString())),e.value.map((function(e){return(0,b.jsx)(oe,{label:e.key||"",value:e.value,guidanceCategory:""})}))]})}))]})]})]})]})},le=ce}}]);
//# sourceMappingURL=376.dd134cf20cafc2a4.js.map